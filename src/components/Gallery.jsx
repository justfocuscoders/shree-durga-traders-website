import { useState } from "react";
import Floormill1 from "../assets/images/Floormill1.jpg";
import Floormill2 from "../assets/images/Floormill2.jpg";
import Floormill3 from "../assets/images/Floormill3.jpg";
import VID_20260207_WA0005 from "../assets/videos/VID-20260207-WA0005.mp4";
import VID_20260207_WA0006 from "../assets/videos/VID-20260207-WA0006.mp4";
import VID_20260207_WA0007 from "../assets/videos/VID-20260207-WA0007.mp4";
import VID_20260207_WA0008 from "../assets/videos/VID-20260207-WA0008.mp4";
import VID_20260207_WA0009 from "../assets/videos/VID-20260207-WA0009.mp4";
import VID_20260207_WA0010 from "../assets/videos/VID-20260207-WA0010.mp4";
import VID_20260207_WA0011 from "../assets/videos/VID-20260207-WA0011.mp4";
import VID_20260207_WA0012 from "../assets/videos/VID-20260207-WA0012.mp4";
import VID_20260207_WA0013 from "../assets/videos/VID-20260207-WA0013.mp4";
import VID_20260207_WA0014 from "../assets/videos/VID-20260207-WA0014.mp4";
import VID_20260207_WA0015 from "../assets/videos/VID-20260207-WA0015.mp4";
import VID_20260207_WA0016 from "../assets/videos/VID-20260207-WA0016.mp4";
import VID_20260207_WA0017 from "../assets/videos/VID-20260207-WA0017.mp4";
import VID_20260207_WA0018 from "../assets/videos/VID-20260207-WA0018.mp4";
import VID_20260207_WA0019 from "../assets/videos/VID-20260207-WA0019.mp4";
import VID_20260207_WA0020 from "../assets/videos/VID-20260207-WA0020.mp4";
import VID_20260207_WA0021 from "../assets/videos/VID-20260207-WA0021.mp4";
import VID_20260207_WA0022 from "../assets/videos/VID-20260207-WA0022.mp4";
import VID_20260207_WA0023 from "../assets/videos/VID-20260207-WA0023.mp4";
import VID_20260207_WA0024 from "../assets/videos/VID-20260207-WA0024.mp4";
import VID_20260207_WA0025 from "../assets/videos/VID-20260207-WA0025.mp4";
import VID_20260207_WA0026 from "../assets/videos/VID-20260207-WA0026.mp4";
import VID_20260207_WA0027 from "../assets/videos/VID-20260207-WA0027.mp4";
import VID_20260207_WA0028 from "../assets/videos/VID-20260207-WA0028.mp4";
import VID_20260207_WA0029 from "../assets/videos/VID-20260207-WA0029.mp4";
import VID_20260207_WA0030 from "../assets/videos/VID-20260207-WA0030.mp4";
import VID_20260207_WA0031 from "../assets/videos/VID-20260207-WA0031.mp4";
import VID_20260207_WA0032 from "../assets/videos/VID-20260207-WA0032.mp4";
import VID_20260207_WA0033 from "../assets/videos/VID-20260207-WA0033.mp4";
import VID_20260207_WA0034 from "../assets/videos/VID-20260207-WA0034.mp4";
import VID_20260207_WA0035 from "../assets/videos/VID-20260207-WA0035.mp4";
import VID_20260207_WA0036 from "../assets/videos/VID-20260207-WA0036.mp4";
import VID_20260207_WA0037 from "../assets/videos/VID-20260207-WA0037.mp4";
import VID_20260207_WA0038 from "../assets/videos/VID-20260207-WA0038.mp4";
import VID_20260207_WA0039 from "../assets/videos/VID-20260207-WA0039.mp4";
import VID_20260207_WA0040 from "../assets/videos/VID-20260207-WA0040.mp4";
import VID_20260207_WA0041 from "../assets/videos/VID-20260207-WA0041.mp4";
import VID_20260207_WA0042 from "../assets/videos/VID-20260207-WA0042.mp4";
import VID_20260207_WA0043 from "../assets/videos/VID-20260207-WA0043.mp4";
import VID_20260207_WA0044 from "../assets/videos/VID-20260207-WA0044.mp4";
import VID_20260207_WA0045 from "../assets/videos/VID-20260207-WA0045.mp4";
import VID_20260207_WA0046 from "../assets/videos/VID-20260207-WA0046.mp4";
import VID_20260207_WA0047 from "../assets/videos/VID-20260207-WA0047.mp4";
import VID_20260207_WA0048 from "../assets/videos/VID-20260207-WA0048.mp4";
import VID_20260207_WA0049 from "../assets/videos/VID-20260207-WA0049.mp4";
import VID_20260207_WA0050 from "../assets/videos/VID-20260207-WA0050.mp4";
import VID_20260207_WA0051 from "../assets/videos/VID-20260207-WA0051.mp4";
import VID_20260207_WA0052 from "../assets/videos/VID-20260207-WA0052.mp4";
import VID_20260207_WA0053 from "../assets/videos/VID-20260207-WA0053.mp4";
import VID_20260207_WA0054 from "../assets/videos/VID-20260207-WA0054.mp4";
import VID_20260207_WA0055 from "../assets/videos/VID-20260207-WA0055.mp4";
import VID_20260207_WA0056 from "../assets/videos/VID-20260207-WA0056.mp4";
import VID_20260207_WA0057 from "../assets/videos/VID-20260207-WA0057.mp4";
import VID_20260207_WA0058 from "../assets/videos/VID-20260207-WA0058.mp4";
import VID_20260207_WA0059 from "../assets/videos/VID-20260207-WA0059.mp4";
import VID_20260207_WA0060 from "../assets/videos/VID-20260207-WA0060.mp4";
import VID_20260207_WA0061 from "../assets/videos/VID-20260207-WA0061.mp4";
import VID_20260207_WA0062 from "../assets/videos/VID-20260207-WA0062.mp4";
import VID_20260207_WA0063 from "../assets/videos/VID-20260207-WA0063.mp4";
import VID_20260207_WA0064 from "../assets/videos/VID-20260207-WA0064.mp4";
import VID_20260207_WA0065 from "../assets/videos/VID-20260207-WA0065.mp4";
import VID_20260207_WA0066 from "../assets/videos/VID-20260207-WA0066.mp4";
import VID_20260207_WA0067 from "../assets/videos/VID-20260207-WA0067.mp4";
import VID_20260207_WA0068 from "../assets/videos/VID-20260207-WA0068.mp4";
import VID_20260207_WA0069 from "../assets/videos/VID-20260207-WA0069.mp4";
import VID_20260207_WA0070 from "../assets/videos/VID-20260207-WA0070.mp4";
import VID_20260207_WA0071 from "../assets/videos/VID-20260207-WA0071.mp4";
import VID_20260207_WA0072 from "../assets/videos/VID-20260207-WA0072.mp4";
import VID_20260207_WA0073 from "../assets/videos/VID-20260207-WA0073.mp4";
import VID_20260207_WA0074 from "../assets/videos/VID-20260207-WA0074.mp4";
import VID_20260207_WA0075 from "../assets/videos/VID-20260207-WA0075.mp4";
import VID_20260207_WA0076 from "../assets/videos/VID-20260207-WA0076.mp4";
import VID_20260207_WA0077 from "../assets/videos/VID-20260207-WA0077.mp4";
import VID_20260207_WA0078 from "../assets/videos/VID-20260207-WA0078.mp4";
import VID_20260207_WA0079 from "../assets/videos/VID-20260207-WA0079.mp4";

const photoItems = [
  {
    src: Floormill1,
    alt: "Floormill1",
  },
  {
    src: Floormill2,
    alt: "Floormill2",
  },
  {
    src: Floormill3,
    alt: "Floormill3",
  },
];

const videoItems = [
  {
    src: VID_20260207_WA0005,
  },
  {
    src: VID_20260207_WA0006,
  },
  {
    src: VID_20260207_WA0007,
  },
  {
    src: VID_20260207_WA0008,
  },
  {
    src: VID_20260207_WA0009,
  },
  {
    src: VID_20260207_WA0010,
  },
  {
    src: VID_20260207_WA0011,
  },
  {
    src: VID_20260207_WA0012,
  },
  {
    src: VID_20260207_WA0013,
  },
  {
    src: VID_20260207_WA0014,
  },
  {
    src: VID_20260207_WA0015,
  },
  {
    src: VID_20260207_WA0016,
  },
  {
    src: VID_20260207_WA0017,
  },
  {
    src: VID_20260207_WA0018,
  },
  {
    src: VID_20260207_WA0019,
  },
  {
    src: VID_20260207_WA0020,
  },
  {
    src: VID_20260207_WA0021,
  },
  {
    src: VID_20260207_WA0022,
  },
  {
    src: VID_20260207_WA0023,
  },
  {
    src: VID_20260207_WA0024,
  },
  {
    src: VID_20260207_WA0025,
  },
  {
    src: VID_20260207_WA0026,
  },
  {
    src: VID_20260207_WA0027,
  },
  {
    src: VID_20260207_WA0028,
  },
  {
    src: VID_20260207_WA0029,
  },
  {
    src: VID_20260207_WA0030,
  },
  {
    src: VID_20260207_WA0031,
  },
  {
    src: VID_20260207_WA0032,
  },
  {
    src: VID_20260207_WA0033,
  },
  {
    src: VID_20260207_WA0034,
  },
  {
    src: VID_20260207_WA0035,
  },
  {
    src: VID_20260207_WA0036,
  },
  {
    src: VID_20260207_WA0037,
  },
  {
    src: VID_20260207_WA0038,
  },
  {
    src: VID_20260207_WA0039,
  },
  {
    src: VID_20260207_WA0040,
  },
  {
    src: VID_20260207_WA0041,
  },
  {
    src: VID_20260207_WA0042,
  },
  {
    src: VID_20260207_WA0043,
  },
  {
    src: VID_20260207_WA0044,
  },
  {
    src: VID_20260207_WA0045,
  },
  {
    src: VID_20260207_WA0046,
  },
  {
    src: VID_20260207_WA0047,
  },
  {
    src: VID_20260207_WA0048,
  },
  {
    src: VID_20260207_WA0049,
  },
  {
    src: VID_20260207_WA0050,
  },
  {
    src: VID_20260207_WA0051,
  },
  {
    src: VID_20260207_WA0052,
  },
  {
    src: VID_20260207_WA0053,
  },
  {
    src: VID_20260207_WA0054,
  },
  {
    src: VID_20260207_WA0055,
  },
  {
    src: VID_20260207_WA0056,
  },
  {
    src: VID_20260207_WA0057,
  },
  {
    src: VID_20260207_WA0058,
  },
  {
    src: VID_20260207_WA0059,
  },
  {
    src: VID_20260207_WA0060,
  },
  {
    src: VID_20260207_WA0061,
  },
  {
    src: VID_20260207_WA0062,
  },
  {
    src: VID_20260207_WA0063,
  },
  {
    src: VID_20260207_WA0064,
  },
  {
    src: VID_20260207_WA0065,
  },
  {
    src: VID_20260207_WA0066,
  },
  {
    src: VID_20260207_WA0067,
  },
  {
    src: VID_20260207_WA0068,
  },
  {
    src: VID_20260207_WA0069,
  },
  {
    src: VID_20260207_WA0070,
  },
  {
    src: VID_20260207_WA0071,
  },
  {
    src: VID_20260207_WA0072,
  },
  {
    src: VID_20260207_WA0073,
  },
  {
    src: VID_20260207_WA0074,
  },
  {
    src: VID_20260207_WA0075,
  },
  {
    src: VID_20260207_WA0076,
  },
  {
    src: VID_20260207_WA0077,
  },
  {
    src: VID_20260207_WA0078,
  },
  {
    src: VID_20260207_WA0079,
  },
];

function Gallery({ gallery }) {
  const [isFullViewOpen, setIsFullViewOpen] = useState(false);
  const previewVideos = videoItems.slice(0, 4);

  return (
    <>
      <section className="section" id="gallery" aria-labelledby="gallery-title">
        <div className="section__head">
          <h2 id="gallery-title">{gallery.title}</h2>
        </div>

        <h3 className="gallery__subheading">{gallery.photosTitle}</h3>
        <div className="media-grid">
          {photoItems.map((photo) => (
            <button
              type="button"
              className="media-card media-card--interactive"
              key={photo.src}
              onClick={() => setIsFullViewOpen(true)}
              aria-label="Open full gallery"
            >
              <img
                className="gallery-photo"
                loading="lazy"
                decoding="async"
                src={photo.src}
                alt={photo.alt}
              />
            </button>
          ))}
        </div>

        <h3 className="gallery__subheading">{gallery.videosTitle}</h3>
        <div className="media-grid">
          {previewVideos.map((video) => (
            <button
              type="button"
              className="media-card media-card--interactive"
              key={video.src}
              onClick={() => setIsFullViewOpen(true)}
              aria-label="Open full gallery"
            >
              <video controls preload="none">
                <source src={video.src} type="video/mp4" />
              </video>
            </button>
          ))}
        </div>

        <button
          type="button"
          className="button button--ghost gallery-view-all"
          onClick={() => setIsFullViewOpen(true)}
        >
          View All Photos & Videos
        </button>
      </section>

      {isFullViewOpen && (
        <section className="gallery-modal" role="dialog" aria-modal="true" aria-label="Full gallery view">
          <div className="gallery-modal__content">
            <div className="gallery-modal__header">
              <h2>{gallery.title}</h2>
              <button
                type="button"
                className="button button--ghost gallery-close"
                onClick={() => setIsFullViewOpen(false)}
              >
                Back to Homepage
              </button>
            </div>

            <h3 className="gallery__subheading">{gallery.photosTitle}</h3>
            <div className="media-grid">
              {photoItems.map((photo) => (
                <figure className="media-card" key={`full-photo-${photo.src}`}>
                  <img
                    className="gallery-photo"
                    loading="lazy"
                    decoding="async"
                    src={photo.src}
                    alt={photo.alt}
                  />
                </figure>
              ))}
            </div>

            <h3 className="gallery__subheading">{gallery.videosTitle}</h3>
            <div className="media-grid">
              {videoItems.map((video) => (
                <figure className="media-card" key={`full-video-${video.src}`}>
                  <video controls preload="none">
                    <source src={video.src} type="video/mp4" />
                  </video>
                </figure>
              ))}
            </div>
          </div>
        </section>
      )}
    </>
  );
}

export default Gallery;
